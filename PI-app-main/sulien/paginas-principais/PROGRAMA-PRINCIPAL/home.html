<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title data-i18n="home_title">Leandix — Usuário</title>

    <!-- Fontes e ícones -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../assets/global.css">
    <link rel="stylesheet" href="home.css">
    <script src="../config.js"></script>
    <script src="api-config.js"></script>
    <script src="script.js" defer></script>
</head>

<body>
  <aside class="sidebar" aria-label="Main navigation">
    <div class="brand">
      <img class="brand-logo" src="img/logo2.svg" alt="Leandix">
    </div>

    <nav class="nav">
      <button class="nav-btn active" data-route="home">
        <i class="fa-solid fa-house"></i>
        <span data-i18n="menu_home">Home</span>
      </button>

      <button class="nav-btn" onclick="window.location.href='usuario.html'" data-route="user">
        <i class="fa-solid fa-user"></i>
        <span data-i18n="menu_user">Usuário</span>
      </button>

      <button class="nav-btn" onclick="window.location.href='reservas.html'" data-route="reservations">
        <i class="fa-solid fa-calendar-check"></i>
        <span data-i18n="menu_reservations">Reservas</span>
      </button>

      <button class="nav-btn" onclick="window.location.href='configura.html'" data-route="settings">
        <i class="fa-solid fa-gear"></i>
        <span data-i18n="menu_settings">Configurações</span>
      </button>
    </nav>

    <div class="sidebar-footer">
      <button id="logoutBtn" class="ghost" aria-label="Sair" onclick="window.location.href='../index-usuario.html'">
        <span data-i18n="menu_sair">Sair</span>
      </button>
    </div>
  </aside>

  <main class="main-content">
    <div class="user-card">
      <div class="user-header">
        <img id="user-foto" src="img/avatar-placeholder.png" alt="foto usuário" class="user-photo">
        <div>
          <h2 class="user-name" id="user-nome">Usuário</h2>
          <p class="muted"><span data-i18n="home_role">Aluno</span></p>
        </div>
      </div>

      <div class="user-info">
        <div><strong data-i18n="user_class">Turma:</strong> <span id="user-turma">—</span></div>
        <div><strong data-i18n="user_room">Sala:</strong> <span id="user-sala">—</span></div>
        <div><strong data-i18n="user_ra">R.A:</strong> <span id="user-ra">—</span></div>
        <div><strong data-i18n="user_email">E-mail:</strong> <span id="user-email">—</span></div>
        <div><strong data-i18n="user_phone">Telefone:</strong> <span id="user-numero">—</span></div>
      </div>
    </div>

    <section class="addusuario" onclick="abrirCatalogo()">
      <div class="textadd">
        <h3><span data-i18n="add_user">Adicionar novo usuário</span></h3>
      </div>
    </section>

    <section class="historico">
      <h3><span data-i18n="user_history">Histórico</span></h3>
      <div id="historico-list"></div>
    </section>
  </main>
</body>

    <!-- =================== MODAL DE CADASTRO =================== -->
    <div id="catalogoAdd" class="modal hidden">
        <div class="modal-content">
            <h2><span data-i18n="register_user">Cadastrar Usuário</span></h2>
            <form id="formCadastro">

                <label><span data-i18n="label_fullname">Nome completo:</span></label>
                <input type="text" id="nome" required />

                <label><span>CPF:</span></label>
                <input type="text" id="cpf" placeholder="000.000.000-00" maxlength="14" required />

                <label><span data-i18n="label_email">E-mail:</span></label>
                <input type="email" id="email" required />

                <label><span data-i18n="label_ra">R.A:</span></label>
                <input type="text" id="ra" required />

                <label><span data-i18n="label_area">Área:</span></label>
                <select id="Area" required>
                    <option value="" disabled selected>Selecione a área...</option>
                    <option value="USER">ALUNO</option>
                    <option value="PROFESSOR">PROFESSOR</option>
                    <option value="ADMIN">ADMINISTRADOR</option>
                </select>

                <!-- Campo de Turno - só aparece para PROFESSOR -->
                <div id="turnoGroup" style="display: none;">
                    <label><span>Turno:</span></label>
                    <select id="turno">
                        <option value="" disabled selected>Selecione o turno...</option>
                        <option value="MORNING">Manhã (08:00 - 12:00)</option>
                        <option value="AFTERNOON">Tarde (13:00 - 17:00)</option>
                        <option value="NIGHT">Noite (18:00 - 22:00)</option>
                    </select>
                </div>

                <label><span data-i18n="label_phone">Telefone:</span></label>
                <input type="text" id="telefone" required />

                <label><span>Foto do Usuário:</span></label>
                <input type="file" id="foto" accept="image/*" />
                <small style="color: #666;">Se não enviar, será usada foto padrão</small>

                <button type="submit" class="btn-confirmar"><span data-i18n="btn_register">Cadastrar</span></button>
                <button type="button" class="btn-cancelar" onclick="fecharCatalogo()"><span
                        data-i18n="btn_cancel">Cancelar</span></button>
            </form>
        </div>
    </div>

    </body>

</html>
